.ui-nicescreen-viewport {
  perspective: 1000px;
  perspective-origin: center center;
  transform-style: preserve-3d;
}

.ui-nicescreen {
  display: none;
  width: 100%;
  height: 100%;
  
  position: absolute;
  left: 0;
  top: 0;
  
  z-index: 0;
  transform: translate(0,0);
  transform-origin: left top;
  backface-visibility: hidden;

  /* By default screens are hidden, so ensure its visible when active and transitioning/animating */
  &.ui-nicescreen-active,
  &.ui-nicescreen-animation,
  &.ui-nicescreen-transitioning {
    display: block;
  }
}

/* Disable interactions when transitioning */
.ui-nicescreen-transitioning {
  pointer-events: none;
  touch-action: none;
  user-select: none;
}

/* Default animation properties */
.ui-nicescreen-animation {
  z-index: 2;
  animation-delay: 0;
  animation-direction: normal;
  animation-duration: 0.5s;
  animation-iteration-count: 1;
  animation-timing-function: ease-in-out;
}

/* Default transition animations */
.ui-nicescreen-animation-enterfromleft {
  animation-name: enterfromleft;
}
.ui-nicescreen-animation-enterfromright {
  animation-name: enterfromright;
}
.ui-nicescreen-animation-enterfromtop {
  animation-name: enterfromtop;
}
.ui-nicescreen-animation-enterfrombottom {
  animation-name: enterfrombottom;
}
.ui-nicescreen-animation-exittoleft {
  animation-name: exittoleft;
}
.ui-nicescreen-animation-exittoright {
  animation-name: exittoright;
}
.ui-nicescreen-animation-exittotop {
  animation-name: exittotop;
}
.ui-nicescreen-animation-exittobottom {
  animation-name: exittobottom;
}

@keyframes enterfromleft {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes enterfromright {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes enterfromtop {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(0);
  }
}

@keyframes enterfrombottom {
  0% {
    transform: translateY(100%);
  }
  100% {
    transform: translateY(0);
  }
}

@keyframes exittoleft {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-100%);
  }
}

@keyframes exittoright {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes exittotop {
  0% {
    transform: translateY(0);
  }
  100% {
    transform: translateY(-100%);
  }
}

@keyframes exittobottom {
  0% {
    transform: translateY(0);
  }
  100% {
    transform: translateY(100%);
  }
}

/* 3D transitions */
[data-nicescreen-transition="3d"] {
  transform-style: preserve-3d;

  &.ui-nicescreen,
  .ui-nicescreen {
    transform: translate3d(0,0,0) rotate3d(0,0,0,0);
    transform-origin: center center;
  }

  &.ui-nicescreen-animation,
  .ui-nicescreen-animation {
    animation-duration: 1s;
    animation-timing-function: ease-out;
  }

  &.ui-nicescreen-animation-enterfromleft,
  .ui-nicescreen-animation-enterfromleft {
    animation-name: enterfromleft3d;
  }
  &.ui-nicescreen-animation-enterfromright,
  .ui-nicescreen-animation-enterfromright {
    animation-name: enterfromright3d;
  }
  &.ui-nicescreen-animation-enterfromtop,
  .ui-nicescreen-animation-enterfromtop {
    animation-name: enterfromtop3d;
  }
  &.ui-nicescreen-animation-enterfrombottom,
  .ui-nicescreen-animation-enterfrombottom {
    animation-name: enterfrombottom3d;
  }
  &.ui-nicescreen-animation-exittoleft,
  .ui-nicescreen-animation-exittoleft,
  &.ui-nicescreen-animation-exittoright,
  .ui-nicescreen-animation-exittoright,
  &.ui-nicescreen-animation-exittotop,
  .ui-nicescreen-animation-exittotop,
  &.ui-nicescreen-animation-exittobottom,
  .ui-nicescreen-animation-exittobottom {
    animation-name: exit3d; // exittoleft3d;
    z-index: 1;
    animation-timing-function: linear;
  }
}

/* Enter animations */
@keyframes enterfromleft3d {
  0% {
    transform: translate3d(-100%, 0, 100px) rotate3d(0, 1, 0, -90deg);
    box-shadow: 0 0 100px rgba(0,0,0, 0);
  }
  100% {
    transform: translate3d(0,0,0) rotate3d(0,0,0,0);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
}

@keyframes enterfromright3d {
  0% {
    transform: translate3d(100%, 0, 100px) rotate3d(0, 1, 0, 90deg);
    box-shadow: 0 0 100px rgba(0,0,0, 0);
  }
  100% {
    transform: translate3d(0,0,0) rotate3d(0,0,0,0);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
}

@keyframes enterfromtop3d {
  0% {
    transform: translate3d(0, -100%, 100px) rotate3d(1, 0, 0, 90deg);
    box-shadow: 0 0 100px rgba(0,0,0, 0);
  }
  100% {
    transform: translate3d(0,0,0) rotate3d(0,0,0,0);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
}

@keyframes enterfrombottom3d {
  0% {
    transform: translate3d(0, 100%, 100px) rotate3d(1, 0, 0, -90deg);
    box-shadow: 0 0 100px rgba(0,0,0, 0);
  }
  100% {
    transform: translate3d(0,0,0) rotate3d(0,0,0,0);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
}

/* Exit animation */
@keyframes exit3d {
  0% {
    opacity: 1;
  }
  75% {
    opacity: 0.2;
  }
  100% {
    opacity: 0.2;
  }
}

/* 3D transitions */
[data-nicescreen-transition="card"] {
  &.ui-nicescreen,
  .ui-nicescreen {
    transform: translate3d(0,0,0) rotate3d(0,0,0,0);
    transform-origin: center center;
  }

  &.ui-nicescreen-animation,
  .ui-nicescreen-animation {
    animation-duration: 1s;
    animation-timing-function: ease-in-out;
  }

  &.ui-nicescreen-animation-enterfromleft,
   .ui-nicescreen-animation-enterfromleft {
    animation-name: enterfromleftcard;
    z-index: 2;
  }
  &.ui-nicescreen-animation-enterfromright,
   .ui-nicescreen-animation-enterfromright {
    animation-name: enterfromrightcard;
    z-index: 2;
  }
  &.ui-nicescreen-animation-enterfromtop,
   .ui-nicescreen-animation-enterfromtop {
    animation-name: enterfromtopcard;
    z-index: 2;
  }
  &.ui-nicescreen-animation-enterfrombottom,
   .ui-nicescreen-animation-enterfrombottom {
    animation-name: enterfrombottomcard;
    z-index: 2;
  }
  &.ui-nicescreen-animation-exittoleft,
   .ui-nicescreen-animation-exittoleft {
    animation-name: exitcard;
    z-index: 1;
  }
  &.ui-nicescreen-animation-exittoright,
   .ui-nicescreen-animation-exittoright {
    animation-name: exitcard;
    z-index: 1;
  }
  &.ui-nicescreen-animation-exittotop,
   .ui-nicescreen-animation-exittotop {
    animation-name: exitcard;
    z-index: 1;
  }
  &.ui-nicescreen-animation-exittobottom,
   .ui-nicescreen-animation-exittobottom {
    animation-name: exitcard;
    z-index: 1;
  }
}

@keyframes enterfromleftcard {
  0% {
    transform: translate3d(-100%, 0, -50px);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
  50% {
    transform: translate3d(0, 0, -50px);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
  100% {
    transform: translate3d(0, 0, 0);
    box-shadow: 0 0 0 rgba(0,0,0,0);
  }
}

@keyframes enterfromrightcard {
  0% {
    transform: translate3d(100%, 0, -50px);
  }
  50% {
    transform: translate3d(0, 0, -50px);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
  100% {
    transform: translate3d(0, 0, 0);
    box-shadow: 0 0 0 rgba(0,0,0,0);
  }
}

@keyframes enterfromtopcard {
  0% {
    transform: translate3d(0, -100%, -50px);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
  50% {
    transform: translate3d(0, 0, -50px);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
  100% {
    transform: translate3d(0, 0, 0);
    box-shadow: 0 0 0 rgba(0,0,0,0);
  }
}

@keyframes enterfrombottomcard {
  0% {
    transform: translate3d(0, 100%, -50px);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
  50% {
    transform: translate3d(0, 0, -50px);
    box-shadow: 0 0 50px rgba(0,0,0, 0.5);
  }
  100% {
    transform: translate3d(0, 0, 0);
    box-shadow: 0 0 0 rgba(0,0,0,0);
  }
}

@keyframes exitcard {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}